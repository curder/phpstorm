import{_ as o,c as e,o as t,a2 as p}from"./chunks/framework.zuJLNJjo.js";const a="/phpstorm/assets/phpstorm-deployment-add-server.BZB4H9yy.png",c="/phpstorm/assets/phpstorm-deployment-connection-tab.C5QAkAkJ.png",d="/phpstorm/assets/phpstorm-deployment-mappings-tab.CeSftIaA.png",s="/phpstorm/assets/phpstorm-upload-to-custom-local-folder.Cxnxr7UY.png",l="/phpstorm/assets/phpstorm-browse-remote-host.CmRBSX2d.png",r="/phpstorm/assets/phpstorm-show-upload-result.CUPxLJg0.png",i="/phpstorm/assets/phpstorm-deployment-modify-source.BHtAt3bs.png",n="/phpstorm/assets/phpstorm-compare-with-local-version.C4B8CKl7.png",m="/phpstorm/assets/phpstorm-deployment-diff-viewer.Bl8NQljL.png",h="/phpstorm/assets/phpstorm-deployment-download-warning.CT_UeAh3.png",u="/phpstorm/assets/phpstorm-deployment-sync.DQoR3Woa.png",g="/phpstorm/assets/phpstorm-using-as-default.BmFOSeis.png",_="/phpstorm/assets/always-upload-changed-files-automatically-to-the-default-server.CV2LM4v_.png",y="/phpstorm/assets/phpstorm-deployment-options-external-changes.Dvphc_Ej.png",v=JSON.parse('{"title":"Deployment 部署","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deployment.md","filePath":"guide/deployment.md","lastUpdated":1669219468000}'),b={name:"guide/deployment.md"},f=p('<h1 id="deployment-部署" tabindex="-1">Deployment 部署 <a class="header-anchor" href="#deployment-部署" aria-label="Permalink to &quot;Deployment 部署&quot;">​</a></h1><p>通过使用 PhpStorm 逐步配置代码到远程主机的管理部署。</p><h2 id="配置部署服务器" tabindex="-1">配置部署服务器 <a class="header-anchor" href="#配置部署服务器" aria-label="Permalink to &quot;配置部署服务器&quot;">​</a></h2><p>在主工具栏上点击设置/首选项，或按 <code>⌘ + ,</code>打开<strong>设置/首选项</strong>对话框，然后选择 <code>Build, Execution, Deployment</code> -&gt; <code>Deployment</code> 页面（也可以通过从主菜单中选择 <code>Tools</code> -&gt; <code>Deployment</code> -&gt; <code>Configration...</code>）</p><p>点击 <code>Add +</code>，选择其类型（这是 Local or mounted folder），然后在 <code>Create New Server</code> 对话框中，键入服务器名称 <code>CustomLocalFolder</code>：</p><p><img src="'+a+'" alt=""></p><p>新服务器已添加，但当前仍然无效，因为它仅显示Web服务器URL <code>http://localhost</code>，将在其中实际浏览上传的文件。</p><h3 id="连接选项-connection" tabindex="-1">连接选项 Connection <a class="header-anchor" href="#连接选项-connection" aria-label="Permalink to &quot;连接选项 Connection&quot;">​</a></h3><p>选择将要上传的项目文件目录。在当前示例中是 <code>/Users/curder/Desktop/codes</code> 本地文件夹。可以按快捷键 <code>Shift + Enter</code> 打开 <code>Browser...</code> 对话框 。</p><p><img src="'+c+'" alt=""></p><h3 id="映射选项-mappings" tabindex="-1">映射选项 Mappings <a class="header-anchor" href="#映射选项-mappings" aria-label="Permalink to &quot;映射选项 Mappings&quot;">​</a></h3><ul><li><p>默认情况下，<code>Local Path</code> 字段包含项目根目录的路径。但可以根据实际需求在项目树中选择任何其他目录，这里使用默认值</p></li><li><p>在<code>Deployment Path</code> 字段中（默认情况下为空），指定服务器上的文件夹，PhpStorm 将在其中从 <code>Local Path</code> 字段中指定的文件夹上传数据。相对于文件夹 <code>phpstorm</code> 指定此路径。相对于 <code>/Users/curder/Codes/phpstorm</code> 文件夹</p></li><li><p>最后，Web路径使用默认值 <code>/</code></p></li></ul><p><img src="'+d+'" alt=""></p><p>然后单击确定，应用更改，服务器就可以使用了。</p><h2 id="部署" tabindex="-1">部署 <a class="header-anchor" href="#部署" aria-label="Permalink to &quot;部署&quot;">​</a></h2><h3 id="上传" tabindex="-1">上传 <a class="header-anchor" href="#上传" aria-label="Permalink to &quot;上传&quot;">​</a></h3><p>首先尝试将本地一个文件传递到远程服务器 <code>CustomLocalFolder</code>。</p><p>使用编辑器打开项目目录 <code>/Users/curder/codes/phpstorm</code> 尝试将项目的 <code>README.md</code> 文件上传到远程服务器。</p><p>从上下文菜单中，选择 <code>Upload to CustomLocalFolder</code></p><p><img src="'+s+'" alt=""></p><p>然后通过顶部主菜单点击 <code>Tools</code> -&gt; <code>Deployment</code> -&gt; 选择 <code>Browse Romote Host</code>，查看上传结果。</p><p><img src="'+l+'" alt=""></p><p>可以看到远程服务器已经存在同步过去的文件</p><p><img src="'+r+'" alt=""></p><p>当然也支持上传文件夹，由于操作类似这边不展开讨论。</p><h3 id="比较远程版本和本地版本" tabindex="-1">比较远程版本和本地版本 <a class="header-anchor" href="#比较远程版本和本地版本" aria-label="Permalink to &quot;比较远程版本和本地版本&quot;">​</a></h3><p><code>README.md</code> 文件有本地和远程副本，当前二者文件内容是相同的。此时尝试修改本地文件内容，添加一个 <code>Hello world!</code></p><p><img src="'+i+'" alt=""></p><p>现在由于更改了 <code>README.md</code> 本地版本。需要确保 PhpStorm 了解这些更改。</p><p>为此，请转到 <code>Remote Host</code> 工具窗口，然后单击鼠标右键，从上下文菜单中，选择与本地版本比较。</p><p><img src="'+n+'" alt=""></p><p>PhpStorm 将打开差异查看器。</p><p><img src="'+m+'" alt=""></p><h3 id="下载" tabindex="-1">下载 <a class="header-anchor" href="#下载" aria-label="Permalink to &quot;下载&quot;">​</a></h3><p>在 <code>Remote Host</code> 工具窗口中，右键单击文件或者目录，然后在上下文菜单中选择 <code>Download form here</code>。PhpStorm显示警告：</p><p><img src="'+h+'" alt=""></p><p>点击 <code>Yes</code> 可以将文件或者目录同步到本地。</p><div class="tip custom-block"><p class="custom-block-title">注意</p><p>下载的文件或者目录需要在配置 <code>connection</code> 中的目录下的文件或者目录，配置目录之外的目录将不会追踪文件。</p></div><h2 id="同步代码" tabindex="-1">同步代码 <a class="header-anchor" href="#同步代码" aria-label="Permalink to &quot;同步代码&quot;">​</a></h2><p>实际开发过程中经常会需要用到代码同步更新功能，就是修改了本地代码自动同步到服务器。</p><p>演示同步代码之前将 <code>README.md</code> 文件本地内容回到最初本地添加 <code>Hello world!</code> 而远程服务器没有 <code>Hello world!</code> 的版本。</p><p>单击 <code>README.md</code> 文件，然后在主菜单上选择 <code>Tools</code> -&gt; <code>Deployment</code> -&gt; <code>Sync with Deployed to CustomLocalFolder</code></p><p><img src="'+u+'" alt=""></p><p>可以在PhpStorm 显示差异查看器中接受单个更改或拒绝它们。</p><h2 id="自动上传到默认服务器" tabindex="-1">自动上传到默认服务器 <a class="header-anchor" href="#自动上传到默认服务器" aria-label="Permalink to &quot;自动上传到默认服务器&quot;">​</a></h2><p>如果需要服务器上的文件与 PhpStorm 项目中的文件完全相同，则自动上传会有所帮助。</p><p>自动上载意味着，只要 IDE 中发生更改，它就会被部署到默认的部署服务器。</p><p>由于部署服务器的设置在默认情况下自动上传更改文件，需要设置默认部署服务器，所以接下来先看下如何将服务器定义为默认服务器。</p><h3 id="将服务器定义为默认服务器" tabindex="-1">将服务器定义为默认服务器 <a class="header-anchor" href="#将服务器定义为默认服务器" aria-label="Permalink to &quot;将服务器定义为默认服务器&quot;">​</a></h3><p>要将部署服务器定义为默认服务器，请按照下列步骤操作：</p><ol><li><p>在 <code>Deployment</code> 页面上选择所需的服务器（在当前的示例中为 <code>CustomLocalFolder</code> ）。可以通过两种可能的方式打开此页面：</p><ul><li>按 <code>⌘ + ,</code> 打开设置/首选项对话框 -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Deployment</code></li><li>主菜单选择 <code>Tools</code> -&gt; <code>Deployment</code> -&gt; <code>Configuration...</code><img src="'+g+'" alt=""></li></ul></li><li><p>请点击<code>Using as default</code> 按钮。</p></li></ol><h3 id="启用自动上传" tabindex="-1">启用自动上传 <a class="header-anchor" href="#启用自动上传" aria-label="Permalink to &quot;启用自动上传&quot;">​</a></h3><p>设置默认服务器后，就可以自动上传到该服务器。</p><p>可以通过以下两种方式完成：</p><ul><li>按 <code>⌘ + ,</code> 打开设置/首选项对话框 -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Deployment</code>，然后在 <code>Upload changed files automatically to the default server</code> 字段中，选择始终、执行保存操作或者从不。 <img src="'+_+'" alt=""></li><li>在主菜单中，选择 <code>Tools</code> -&gt; <code>Deployment</code> -&gt; <code>Automatic upload</code>。<div class="warning custom-block"><p class="custom-block-title">注意</p><p>请注意，在这种情况下，自动上传是在始终模式下执行的。</p></div></li></ul><div class="warning custom-block"><p class="custom-block-title">值得注意</p><p>不建议始终模式部署到生产环境，因为在开发过程中可能会上传不完整的代码，从而可能破坏生产应用程序。</p></div><h2 id="外部变更忽略上传" tabindex="-1">外部变更忽略上传 <a class="header-anchor" href="#外部变更忽略上传" aria-label="Permalink to &quot;外部变更忽略上传&quot;">​</a></h2><p>默认情况下，如果通过某些外部过程（例如， VCS分支更改，SASS或LESS的编译或File Watcher）更改了文件，PhpStorm 还将上传文件。</p><p>若要更改此行为并跳过外部更改，需要将 <code>Upload changed files automatically to the default server</code> 设置为 <code>always</code>，然后选中 <code>Skip extrnal changes</code> 复选框：</p><p><img src="'+y+'" alt=""></p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><ul><li><p>创建并配置了自己的服务器。</p></li><li><p>上载和下载文件和文件夹。</p></li><li><p>比较本地和远程版本。</p></li><li><p>将服务器配置为默认服务器。</p></li><li><p>启用了自动上传外部更改。</p></li></ul><p>更多用法请参考官方文档 <a href="https://www.jetbrains.com/help/phpstorm/deploying-applications.html" target="_blank" rel="noreferrer">Deploy your application</a>。</p>',63),D=[f];function P(q,k,S,x,C,w){return t(),e("div",null,D)}const A=o(b,[["render",P]]);export{v as __pageData,A as default};
